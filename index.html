function loadTimerFromFirebase() {
  db.collection("game").doc("currentRound").get()
    .then(doc => {
      if (!doc.exists) return;

      const endTime = doc.data().endTime;

      startCountdown(endTime);
    });
}

function startCountdown(endTime) {
  timerInterval = setInterval(() => {
    const now = Date.now();
    const diff = Math.floor((endTime - now) / 1000);

    if (diff <= 0) {
      clearInterval(timerInterval);
      document.getElementById("timer").innerText = "0";
      alert("Round Finished");
    } else {
      document.getElementById("timer").innerText = diff;
    }
  }, 1000);
}